<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Nvim documentation: vim_diff</title>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.0/normalize.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link href="/css/main.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
  </head>
  <body>
    <header class="navbar">
      <div class="container">
        <nav class="navbar">
          <div class="container-fluid">
            <div class="navbar-header">

              <a href="/" class="navbar-brand">
                <img src="/images/logo@2x.png" id="navbar-logo" alt="Neovim">
              </a>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <div class="container">
      <h1>Nvim documentation: vim_diff</h1>
<A NAME="top"></A>
<A HREF="index.html">main help file</A>

<HR>
<PRE>

*<A NAME="vim_diff.txt"></A><B>vim_diff.txt</B>*    Nvim


			    NVIM REFERENCE MANUAL



Differences between Nvim and Vim			       *<A NAME="vim-differences"></A><B>vim-differences</B>*

Nvim differs from Vim in many ways, although editor and VimL features are
mostly identical.  This document is a complete and centralized reference of
the differences.

				      Type |<A HREF="various.html#gO">gO</A>| to see the table of contents.

==============================================================================

1. Configuration					    *<A NAME="nvim-config"></A><B>nvim-config</B>*

- Use `$XDG_CONFIG_HOME/nvim/init.vim` instead of `.vimrc` for configuration.
- Use `$XDG_CONFIG_HOME/nvim` instead of `.vim` to store configuration files.
- Use `$XDG_DATA_HOME/nvim/shada/main.shada` instead of `.viminfo` for persistent
  session information.  |<A HREF="starting.html#shada">shada</A>|

==============================================================================

2. Defaults					            *<A NAME="nvim-defaults"></A><B>nvim-defaults</B>*

- <A HREF="autocmd.html#Syntax">Syntax</A> highlighting is enabled by default
- &quot;<A HREF="filetype.html#:filetype">:filetype</A> <A HREF="usr_05.html#plugin">plugin</A> indent on&quot; is enabled by default

- <A HREF="options.html#'autoindent'">'autoindent'</A> is enabled
- <A HREF="options.html#'autoread'">'autoread'</A> is enabled
- <A HREF="options.html#'background'">'background'</A> defaults to &quot;dark&quot; (unless set automatically by the terminal/UI)
- <A HREF="options.html#'backspace'">'backspace'</A> defaults to &quot;indent,eol,start&quot;
- <A HREF="options.html#'backupdir'">'backupdir'</A> defaults to .,~/.local/share/nvim/backup (|<A HREF="starting.html#xdg">xdg</A>|)
- <A HREF="options.html#'belloff'">'belloff'</A> defaults to &quot;all&quot;
- <A HREF="#'compatible'">'compatible'</A> is always disabled
- <A HREF="options.html#'complete'">'complete'</A> excludes &quot;<A HREF="insert.html#i">i</A>&quot;
- <A HREF="deprecated.html#'cscopeverbose'">'cscopeverbose'</A> is enabled
- <A HREF="options.html#'directory'">'directory'</A> defaults to ~/.local/share/nvim/swap// (|<A HREF="starting.html#xdg">xdg</A>|), auto-created
- <A HREF="options.html#'display'">'display'</A> defaults to &quot;lastline,msgsep&quot;
- <A HREF="options.html#'encoding'">'encoding'</A> is <A HREF="mbyte.html#UTF-8">UTF-8</A> (cf. <A HREF="options.html#'fileencoding'">'fileencoding'</A> for file-content encoding)
- <A HREF="options.html#'fillchars'">'fillchars'</A> defaults (in effect) to &quot;vert:│,fold:·,sep:│&quot;
- <A HREF="options.html#'formatoptions'">'formatoptions'</A> defaults to &quot;tcqj&quot;
- <A HREF="options.html#'fsync'">'fsync'</A> is disabled
- <A HREF="options.html#'history'">'history'</A> defaults to 10000 (the maximum)
- <A HREF="options.html#'hlsearch'">'hlsearch'</A> is enabled
- <A HREF="options.html#'incsearch'">'incsearch'</A> is enabled
- <A HREF="deprecated.html#'langnoremap'">'langnoremap'</A> is enabled
- <A HREF="options.html#'langremap'">'langremap'</A> is disabled
- <A HREF="options.html#'laststatus'">'laststatus'</A> defaults to 2 (statusline is always shown)
- <A HREF="options.html#'listchars'">'listchars'</A> defaults to &quot;tab:&gt; ,trail:-,nbsp:+&quot;
- <A HREF="options.html#'nrformats'">'nrformats'</A> defaults to &quot;bin,hex&quot;
- <A HREF="options.html#'ruler'">'ruler'</A> is enabled
- <A HREF="options.html#'sessionoptions'">'sessionoptions'</A> includes &quot;unix,slash&quot;, excludes &quot;<A HREF="options.html#options">options</A>&quot;
- <A HREF="options.html#'shortmess'">'shortmess'</A> includes &quot;<A HREF="motion.html#F">F</A>&quot;, excludes &quot;<A HREF="change.html#S">S</A>&quot;
- <A HREF="options.html#'showcmd'">'showcmd'</A> is enabled
- <A HREF="options.html#'sidescroll'">'sidescroll'</A> defaults to 1
- <A HREF="options.html#'smarttab'">'smarttab'</A> is enabled
- <A HREF="options.html#'startofline'">'startofline'</A> is disabled
- <A HREF="options.html#'tabpagemax'">'tabpagemax'</A> defaults to 50
- <A HREF="options.html#'tags'">'tags'</A> defaults to &quot;./tags;,tags&quot;
- <A HREF="options.html#'ttimeoutlen'">'ttimeoutlen'</A> defaults to 50
- <A HREF="options.html#'ttyfast'">'ttyfast'</A> is always set
- <A HREF="options.html#'viewoptions'">'viewoptions'</A> includes &quot;unix,slash&quot;
- <A HREF="options.html#'undodir'">'undodir'</A> defaults to ~/.local/share/nvim/undo (|<A HREF="starting.html#xdg">xdg</A>|), auto-created
- <A HREF="deprecated.html#'viminfo'">'viminfo'</A> includes &quot;<A HREF="change.html#!">!</A>&quot;
- <A HREF="options.html#'wildmenu'">'wildmenu'</A> is enabled
- <A HREF="options.html#'wildoptions'">'wildoptions'</A> defaults to &quot;pum,tagfile&quot;

- |<A HREF="man.html">man.vim</A>| <A HREF="usr_05.html#plugin">plugin</A> is enabled, so |<A HREF="filetype.html#:Man">:Man</A>| is available by default.
- |<A HREF="intro.html#matchit">matchit</A>| <A HREF="usr_05.html#plugin">plugin</A> is enabled. To disable it in your <A HREF="starting.html#config">config</A>:
<B>    :let loaded_matchit = 1</B>

- |<A HREF="syntax.html#g:vimsyn_embed">g:vimsyn_embed</A>| defaults to &quot;<A HREF="motion.html#l">l</A>&quot; to enable <A HREF="lua.html#Lua">Lua</A> highlighting

==============================================================================

3. New Features						       *<A NAME="nvim-features"></A><B>nvim-features</B>*

<B><FONT color="#54A23D">MAJOR COMPONENTS </FONT></B>

API				|<A HREF="api.html#API">API</A>|
<A HREF="lua.html#Lua">Lua</A> scripting			|<A HREF="lua.html#lua">lua</A>|
Job control			|<A HREF="job_control.html#job-control">job-control</A>|
Remote plugins			|<A HREF="remote_plugin.html#remote-plugin">remote-plugin</A>|
Providers
  Clipboard			|<A HREF="provider.html#provider-clipboard">provider-clipboard</A>|
  Node.js plugins		|<A HREF="provider.html#provider-nodejs">provider-nodejs</A>|
  <A HREF="if_pyth.html#Python">Python</A> plugins		|<A HREF="provider.html#provider-python">provider-python</A>|
  <A HREF="if_ruby.html#Ruby">Ruby</A> plugins			|<A HREF="provider.html#provider-ruby">provider-ruby</A>|
Shared data			|<A HREF="starting.html#shada">shada</A>|
Embedded terminal		|<A HREF="nvim_terminal_emulator.html#terminal">terminal</A>|
VimL parser			|<A HREF="api.html#nvim_parse_expression()">nvim_parse_expression()</A>|
XDG base directories		|<A HREF="starting.html#xdg">xdg</A>|

<B><FONT color="#54A23D">USER EXPERIENCE  </FONT></B>

Working intuitively and consistently is a major goal of Nvim.


							*<A NAME="feature-compile"></A><B>feature-compile</B>*
- Nvim always includes ALL features, in contrast to Vim (which ships with
  various combinations of 100+ optional features). Think of <A HREF="motion.html#it">it</A> <A HREF="motion.html#as">as</A> a leaner
  version of Vim's &quot;HUGE&quot; build. This reduces surface area for bugs, and
  removes a common source of confusion and friction for users.

- Nvim avoids features that cannot be provided on all platforms; instead that
  is delegated to external plugins/extensions. E.g. the `-X` platform-specific
  option is &quot;sometimes&quot; available in Vim (with potential surprises:
	<A HREF="http://stackoverflow.com/q/14635295">http://stackoverflow.com/q/14635295</A>.

- Vim's internal test <A HREF="eval.html#functions">functions</A> (test_autochdir(), test_settime(), etc.) are
  not exposed (nor implemented); instead Nvim has a robust <A HREF="api.html#API">API</A>.

- Behaviors, <A HREF="options.html#options">options</A>, documentation are removed if they cost users more time
  than they save.

Usability details have been improved where the benefit outweighs any
backwards-compatibility cost. Some examples:

- Directories for <A HREF="options.html#'directory'">'directory'</A> and <A HREF="options.html#'undodir'">'undodir'</A> are auto-created.
- Terminal features such <A HREF="motion.html#as">as</A> <A HREF="options.html#'guicursor'">'guicursor'</A> are enabled where possible.

Some features are built in that otherwise required external plugins:

- Highlighting the yanked region, see |<A HREF="lua.html#lua-highlight">lua-highlight</A>|.

<B><FONT color="#54A23D">ARCHITECTURE </FONT></B>

External plugins run in separate processes. |<A HREF="remote_plugin.html#remote-plugin">remote-plugin</A>| This improves
stability and allows those plugins to work without blocking the editor. Even
&quot;legacy&quot; <A HREF="if_pyth.html#Python">Python</A> and <A HREF="if_ruby.html#Ruby">Ruby</A> plugins which use the old Vim interfaces (|<A HREF="if_pyth.html#if_pyth">if_pyth</A>|,
|<A HREF="if_ruby.html#if_ruby">if_ruby</A>|) run out-of-process.

Platform and I/O facilities are built upon libuv. Nvim benefits from libuv
features and bug fixes, and other projects benefit from improvements to libuv
by Nvim developers.

<B><FONT color="#54A23D">FEATURES </FONT></B>

<A HREF="cmdline.html#Command-line">Command-line</A> highlighting:
  The <A HREF="eval.html#expression">expression</A> prompt (|<A HREF="change.html#@=">@=</A>|, |<A HREF="cmdline.html#c_CTRL-R_=">c_CTRL-R_=</A>|, |<A HREF="insert.html#i_CTRL-R_=">i_CTRL-R_=</A>|) is highlighted
  using a built-in VimL <A HREF="eval.html#expression">expression</A> parser. |<A HREF="eval.html#expr-highlight">expr-highlight</A>|

					*<A NAME="E5408"></A><B>E5408</B>* *<A NAME="E5409"></A><B>E5409</B>*
  |<A HREF="eval.html#input()">input()</A>|, |<A HREF="deprecated.html#inputdialog()">inputdialog()</A>| support custom highlighting. |<A HREF="eval.html#input()-highlight">input()-highlight</A>|

					*<A NAME="g:Nvim_color_cmdline"></A><B>g:Nvim_color_cmdline</B>*
  (Experimental) <A HREF="cmdline.html#Command-line">Command-line</A> (|<A HREF="cmdline.html#:">:</A>|) is colored by callback defined in
  `g:Nvim_color_cmdline` (this callback is for testing only, and will be
  removed in the future).

Commands:
  |<A HREF="pi_health.html#:checkhealth">:checkhealth</A>|
  |<A HREF="windows.html#:drop">:drop</A>| is always available
  |<A HREF="filetype.html#:Man">:Man</A>| is available by default, with many improvements such <A HREF="motion.html#as">as</A> completion
  |<A HREF="sign.html#:sign-define">:sign-define</A>| accepts a `numhl` argument, to highlight the line number

Events:
  |<A HREF="autocmd.html#Signal">Signal</A>|
  |<A HREF="autocmd.html#TabNewEntered">TabNewEntered</A>|
  |<A HREF="autocmd.html#TermClose">TermClose</A>|
  |<A HREF="autocmd.html#TermOpen">TermOpen</A>|
  |<A HREF="autocmd.html#UIEnter">UIEnter</A>|
  |<A HREF="autocmd.html#UILeave">UILeave</A>|
  |<A HREF="autocmd.html#WinClosed">WinClosed</A>|

Functions:
  |<A HREF="eval.html#dictwatcheradd()">dictwatcheradd()</A>| notifies a callback whenever a |<A HREF="eval.html#Dict">Dict</A>| is modified
  |<A HREF="eval.html#dictwatcherdel()">dictwatcherdel()</A>|
  |<A HREF="eval.html#menu_get()">menu_get()</A>|
  |<A HREF="eval.html#msgpackdump()">msgpackdump()</A>|, |<A HREF="eval.html#msgpackparse()">msgpackparse()</A>| provide msgpack de/serialization
  |<A HREF="eval.html#stdpath()">stdpath()</A>|
  |<A HREF="eval.html#system()">system()</A>|, |<A HREF="eval.html#systemlist()">systemlist()</A>| can run {cmd} directly (without <A HREF="options.html#'shell'">'shell'</A>)

Highlight groups:
  |<A HREF="syntax.html#highlight-blend">highlight-blend</A>| controls blend level for a highlight group
  |<A HREF="eval.html#expr-highlight">expr-highlight</A>| highlight groups (prefixed with &quot;Nvim&quot;)
  |<A HREF="syntax.html#hl-NormalFloat">hl-NormalFloat</A>| highlights floating <A HREF="windows.html#window">window</A>
  |<A HREF="syntax.html#hl-NormalNC">hl-NormalNC</A>| highlights non-current <A HREF="windows.html#windows">windows</A>
  |<A HREF="syntax.html#hl-MsgArea">hl-MsgArea</A>| highlights messages/cmdline area
  |<A HREF="syntax.html#hl-MsgSeparator">hl-MsgSeparator</A>| highlights separator for scrolled <A HREF="message.html#messages">messages</A>
  |<A HREF="syntax.html#hl-Substitute">hl-Substitute</A>|
  |<A HREF="syntax.html#hl-TermCursor">hl-TermCursor</A>|
  |<A HREF="syntax.html#hl-TermCursorNC">hl-TermCursorNC</A>|
  |<A HREF="syntax.html#hl-Whitespace">hl-Whitespace</A>| highlights <A HREF="options.html#'listchars'">'listchars'</A> <A HREF="pattern.html#whitespace">whitespace</A>

Input/Mappings:
  <A HREF="intro.html#ALT">ALT</A> (|<A HREF="intro.html#META">META</A>|) chords always work (even in the |<A HREF="term.html#TUI">TUI</A>|). Map |<A HREF="intro.html#&lt;M-">&lt;M-</A>| with any key:
  &lt;M-1&gt;, &lt;M-BS&gt;, &lt;M-Del&gt;, &lt;M-Ins&gt;, &lt;M-/&gt;, &lt;M-\&gt;, &lt;M-Space&gt;, &lt;M-Enter&gt;, etc.
  Case-sensitive: &lt;M-a&gt; and &lt;M-A&gt; are two different <A HREF="intro.html#keycodes">keycodes</A>.

  ALT behaves like <A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A> if not mapped. |<A HREF="insert.html#i_ALT">i_ALT</A>| |<A HREF="visual.html#v_ALT">v_ALT</A>| |<A HREF="cmdline.html#c_ALT">c_ALT</A>|

<A HREF="intro.html#Normal">Normal</A> commands:
  |<A HREF="various.html#gO">gO</A>| shows a filetype-defined &quot;outline&quot; of the current buffer.

Options:
  <A HREF="options.html#'cpoptions'">'cpoptions'</A>   flags: |<A HREF="options.html#cpo-_">cpo-_</A>|
  <A HREF="options.html#'display'">'display'</A>     flags: &quot;msgsep&quot; minimizes <A HREF="scroll.html#scrolling">scrolling</A> when showing <A HREF="message.html#messages">messages</A>
  <A HREF="options.html#'guicursor'">'guicursor'</A>   works in the <A HREF="nvim_terminal_emulator.html#terminal">terminal</A>
  <A HREF="options.html#'fillchars'">'fillchars'</A>   flags: &quot;msgsep&quot; (see 'display'), &quot;foldopen&quot;, &quot;foldsep&quot;,
                &quot;foldclose&quot;
  <A HREF="options.html#'foldcolumn'">'foldcolumn'</A>  supports up to 9 dynamic/fixed columns
  <A HREF="options.html#'inccommand'">'inccommand'</A>  shows interactive results for |:substitute|-like commands
  <A HREF="options.html#'pumblend'">'pumblend'</A>    pseudo-transparent popupmenu
  <A HREF="options.html#'scrollback'">'scrollback'</A>
  <A HREF="options.html#'signcolumn'">'signcolumn'</A>  supports up to 9 dynamic/fixed columns
  <A HREF="options.html#'statusline'">'statusline'</A>  supports unlimited alignment sections
'tabline' <A HREF="mailto:&#37;@Func@foo&#37;X">&#37;@Func@foo&#37;X</A> can call any function on mouse-click 
  <A HREF="options.html#'wildoptions'">'wildoptions'</A> &quot;pum&quot; flag to use popupmenu for wildmode completion
  <A HREF="options.html#'winblend'">'winblend'</A>    pseudo-transparency in floating <A HREF="windows.html#windows">windows</A> |<A HREF="api.html#api-floatwin">api-floatwin</A>|
  <A HREF="options.html#'winhighlight'">'winhighlight'</A> window-local highlights

Signs:
  Signs are removed if the associated line is deleted.

Variables:
  |<A HREF="eval.html#v:progpath">v:progpath</A>| is always absolute (&quot;full&quot;)
  |<A HREF="eval.html#v:windowid">v:windowid</A>| is always available (for use by external UIs)

==============================================================================

4. Changed features					 *<A NAME="nvim-features-changed"></A><B>nvim-features-changed</B>*

Nvim always builds with all features, in contrast to Vim which may have
certain features removed/added at compile-time. |<A HREF="#feature-compile">feature-compile</A>|

If a <A HREF="if_pyth.html#Python">Python</A> interpreter is available on your `$PATH`, |<A HREF="if_pyth.html#:python">:python</A>| and |<A HREF="if_pyth.html#:python3">:python3</A>|
are always available and may be used simultaneously. See |<A HREF="provider.html#provider-python">provider-python</A>|.

|<A HREF="various.html#:redir">:redir</A>| nested in |<A HREF="eval.html#execute()">execute()</A>| works.

|<A HREF="eval.html#mkdir()">mkdir()</A>| behaviour changed:
1. Assuming /tmp/foo does not exist and /tmp can be written to
   mkdir('/tmp/foo/bar', '<A HREF="change.html#p">p</A>', 0700) will create both /tmp/foo and /tmp/foo/bar 
   with 0700 permissions. Vim mkdir will create /tmp/foo with 0755.
2. If you try to create an existing directory with `'p'` (e.g. mkdir('/',
   'p')) <A HREF="eval.html#mkdir()">mkdir()</A> will silently exit. In Vim this was an error.
3. <A HREF="eval.html#mkdir()">mkdir()</A> error <A HREF="message.html#messages">messages</A> now include strerror() text when mkdir fails.

|<A HREF="eval.html#string()">string()</A>| and |<A HREF="eval.html#:echo">:echo</A>| behaviour changed:
1. No maximum recursion depth limit is applied to nested container
   structures.
2. |<A HREF="eval.html#string()">string()</A>| fails immediately on nested containers, not when recursion limit
   was exceeded.
2. When |<A HREF="eval.html#:echo">:echo</A>| encounters duplicate containers like

<B>       let l = []</B>
<B>       echo [l, l]</B>
 
   <A HREF="motion.html#it">it</A> does not use &quot;[...]&quot; (was: &quot;[[], [...]]&quot;, now: &quot;[[], []]&quot;). &quot;<A HREF="eval.html#...">...</A>&quot; is
   only used for recursive containers.
3. |<A HREF="eval.html#:echo">:echo</A>| <A HREF="print.html#printing">printing</A> nested containers adds &quot;@level&quot; after &quot;<A HREF="eval.html#...">...</A>&quot; designating
   the level at which recursive container was printed: |<A HREF="eval.html#:echo-self-refer">:echo-self-refer</A>|.
   Same thing applies to |<A HREF="eval.html#string()">string()</A>| (though <A HREF="motion.html#it">it</A> uses construct like
   &quot;{E724@level}&quot;), but this is not reliable because |<A HREF="eval.html#string()">string()</A>| continues to
   error out.
4. Stringifyed infinite and NaN values now use |<A HREF="eval.html#str2float()">str2float()</A>| and can be evaled
   back.
5. (internal) Trying to print or stringify VAR_UNKNOWN in Vim results in 
   nothing, E908, in Nvim <A HREF="motion.html#it">it</A> is internal error.

|<A HREF="eval.html#json_decode()">json_decode()</A>| behaviour changed:
1. It may output |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>|.
2. |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| is emitted also in <A HREF="change.html#case">case</A> of duplicate keys, while in 
   Vim <A HREF="motion.html#it">it</A> <A HREF="message.html#errors">errors</A> out.
3. It accepts only valid JSON.  Trailing commas are not accepted.

|<A HREF="eval.html#json_encode()">json_encode()</A>| behaviour slightly changed: now |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| values 
are accepted, but |<A HREF="#v:none">v:none</A>| is not.

Viminfo text files were replaced with binary (messagepack) ShaDa files.
Additional differences:

- |<A HREF="options.html#shada-c">shada-c</A>| has no effect.
- |<A HREF="options.html#shada-s">shada-s</A>| now <A HREF="vi_diff.html#limits">limits</A> size of every item and not just <A HREF="change.html#registers">registers</A>.
- <A HREF="deprecated.html#'viminfo'">'viminfo'</A> option got renamed to <A HREF="options.html#'shada'">'shada'</A>. Old option is kept <A HREF="motion.html#as">as</A> an alias for
  compatibility reasons.
- |<A HREF="deprecated.html#:wviminfo">:wviminfo</A>| was renamed to |<A HREF="starting.html#:wshada">:wshada</A>|, |<A HREF="deprecated.html#:rviminfo">:rviminfo</A>| to |<A HREF="starting.html#:rshada">:rshada</A>|.  Old
  commands are still kept.
- ShaDa file format was designed with forward and backward compatibility in
  mind. |<A HREF="starting.html#shada-compatibility">shada-compatibility</A>|
- Some <A HREF="message.html#errors">errors</A> make ShaDa code keep temporary file in-place for user to decide
  what to <A HREF="diff.html#do">do</A> with <A HREF="motion.html#it">it</A>.  Vim deletes temporary file in these cases.
  |<A HREF="starting.html#shada-error-handling">shada-error-handling</A>|
- ShaDa file keeps search direction (|<A HREF="eval.html#v:searchforward">v:searchforward</A>|), viminfo does not.

|<A HREF="eval.html#printf()">printf()</A>| returns something meaningful when used with `&#37;p` argument: in Vim 
<A HREF="motion.html#it">it</A> used to return useless address of the <A HREF="eval.html#string">string</A> (strings are copied to the 
newly allocated memory all over the place) and fail on types which cannot be 
coerced to strings. See |<A HREF="eval.html#id()">id()</A>| for more details, currently <A HREF="motion.html#it">it</A> uses 
`printf(&quot;&#37;p&quot;, {expr})` internally.

|<A HREF="cmdline.html#c_CTRL-R">c_CTRL-R</A>| pasting a non-special <A HREF="intro.html#register">register</A> into |<A HREF="cmdline.html#cmdline">cmdline</A>| omits the last <A HREF="motion.html#&lt;CR&gt;">&lt;CR&gt;</A>.

<A HREF="lua.html#Lua">Lua</A> interface (|<A HREF="lua.html">lua.txt</A>|):

- `:lua print(&quot;a\0b&quot;)` will print `a^@b`, like with `:echomsg &quot;a\nb&quot;` . In Vim
  that prints `a` and `b` on separate lines, exactly like
  `:lua print(&quot;a\nb&quot;)` .
- `:lua error('TEST')` emits the error “E5105: Error while calling <A HREF="lua.html#lua">lua</A> chunk:
  [string &quot;&lt;VimL compiled string&gt;&quot;]:1: TEST”, whereas Vim emits only “TEST”.
- <A HREF="lua.html#Lua">Lua</A> has direct access to Nvim |<A HREF="api.html#API">API</A>| via `vim.api`.
- <A HREF="lua.html#Lua">Lua</A> package.path and package.cpath are automatically updated according to
  <A HREF="options.html#'runtimepath'">'runtimepath'</A>: |<A HREF="lua.html#lua-require">lua-require</A>|.

Commands:
  |<A HREF="autocmd.html#:doautocmd">:doautocmd</A>| does not warn about &quot;No matching autocommands&quot;.

Functions:
  |<A HREF="eval.html#input()">input()</A>| and |<A HREF="deprecated.html#inputdialog()">inputdialog()</A>| support for each other’s features (return on
  cancel and completion respectively) via dictionary argument (replaces all
  other arguments if used).
  |<A HREF="eval.html#input()">input()</A>| and |<A HREF="deprecated.html#inputdialog()">inputdialog()</A>| support user-defined <A HREF="cmdline.html#cmdline">cmdline</A> highlighting.

Highlight groups:
  |<A HREF="syntax.html#hl-ColorColumn">hl-ColorColumn</A>|, |<A HREF="syntax.html#hl-CursorColumn">hl-CursorColumn</A>| are lower priority than most other
  groups
  |<A HREF="syntax.html#hl-CursorLine">hl-CursorLine</A>| is low-priority unless foreground color is set

Macro/|<A HREF="repeat.html#recording">recording</A>| behavior
  Replay of a <A HREF="map.html#macro">macro</A> recorded during <A HREF="map.html#:lmap">:lmap</A> produces the same actions <A HREF="motion.html#as">as</A> when <A HREF="motion.html#it">it</A>
  was recorded. In Vim if a <A HREF="map.html#macro">macro</A> is recorded while using :lmap'ped keys then
  the behaviour during record and replay differs.

  <A HREF="options.html#'keymap'">'keymap'</A> is implemented via <A HREF="map.html#:lmap">:lmap</A> instead of <A HREF="map.html#:lnoremap">:lnoremap</A> so that you can use
  macros and <A HREF="options.html#'keymap'">'keymap'</A> at the same time. This also means you can use |<A HREF="map.html#:imap">:imap</A>| on
  the results of keys from <A HREF="options.html#'keymap'">'keymap'</A>.

Motion:
  The |<A HREF="motion.html#jumplist">jumplist</A>| avoids useless/phantom jumps.

<A HREF="intro.html#Normal">Normal</A> commands:
  |<A HREF="intro.html#Q">Q</A>| is the same <A HREF="motion.html#as">as</A> |<A HREF="intro.html#gQ">gQ</A>|

Options:
  <A HREF="options.html#'ttimeout'">'ttimeout'</A>, <A HREF="options.html#'ttimeoutlen'">'ttimeoutlen'</A> behavior was simplified
  |<A HREF="intro.html#jumpoptions">jumpoptions</A>| &quot;stack&quot; behavior

Shell:
  Shell output (|<A HREF="various.html#:!">:!</A>|, |<A HREF="quickfix.html#:make">:make</A>|, …) is always routed through the <A HREF="ui.html#UI">UI</A>, so <A HREF="motion.html#it">it</A>
  cannot &quot;mess up&quot; the screen. (You can still use &quot;chansend(v:stderr,…)&quot; if
  you want to mess up the screen :)

  Nvim throttles (skips) <A HREF="message.html#messages">messages</A> from shell commands (|<A HREF="various.html#:!">:!</A>|, |<A HREF="quickfix.html#:grep">:grep</A>|, |<A HREF="quickfix.html#:make">:make</A>|)
  if there is too much output. No data is lost, this only affects display and
  improves performance. |<A HREF="various.html#:terminal">:terminal</A>| output is never throttled.

  |<A HREF="various.html#:!">:!</A>| does not support &quot;interactive&quot; commands. Use |<A HREF="various.html#:terminal">:terminal</A>| instead.
  (GUI Vim has a similar limitation, see &quot;<A HREF="helphelp.html#:help">:help</A> gui-pty&quot; in Vim.)

  :!start is not special-cased on Windows.

  |<A HREF="eval.html#system()">system()</A>| does not support writing/reading &quot;backgrounded&quot; commands. |<A HREF="eval.html#E5677">E5677</A>|

Startup:
  |<A HREF="starting.html#-e">-e</A>| and |<A HREF="starting.html#-es">-es</A>| invoke the same &quot;improved <A HREF="intro.html#Ex">Ex</A> mode&quot; <A HREF="motion.html#as">as</A> <A HREF="starting.html#-E">-E</A> and <A HREF="starting.html#-Es">-Es</A>.
  |<A HREF="starting.html#-E">-E</A>| and |<A HREF="starting.html#-Es">-Es</A>| read stdin <A HREF="motion.html#as">as</A> text (into buffer 1).
  |<A HREF="starting.html#-es">-es</A>| and |<A HREF="starting.html#-Es">-Es</A>| have improved behavior:
    - Quits automatically, don't need &quot;<A HREF="starting.html#-c">-c</A> qa!&quot;.
    - Skips <A HREF="recover.html#swap-file">swap-file</A> dialog.
  |<A HREF="starting.html#-s">-s</A>| reads <A HREF="intro.html#Normal">Normal</A> commands from stdin if the <A HREF="usr_41.html#script">script</A> name is &quot;-&quot;.
  Reading text (instead of commands) from stdin YXXY--|:
    - works by default: &quot;<A HREF="motion.html#-">-</A>&quot; file is optional
    - works in more cases: |<A HREF="starting.html#-Es">-Es</A>|, file args

<A HREF="term.html#TUI">TUI</A>:

			*<A NAME=":set-termcap"></A><B>:set-termcap</B>*
  Start Nvim with <A HREF="options.html#'verbose'">'verbose'</A> level 3 to show <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> capabilities:
<B>	nvim -V3</B>
 

			*<A NAME="'term'"></A><B>'term'</B>* *<A NAME="E529"></A><B>E529</B>* *<A NAME="E530"></A><B>E530</B>* *<A NAME="E531"></A><B>E531</B>*
  <A HREF="#'term'">'term'</A> reflects the <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> type derived from |<A HREF="term.html#$TERM">$TERM</A>| and other environment
  checks.  For debugging only; not reliable during <A HREF="starting.html#startup">startup</A>.
<B>	  :echo &amp;term</B>
   &quot;builtin_x&quot; means one of the |<A HREF="term.html#builtin-terms">builtin-terms</A>| was chosen, because the expected
  <A HREF="term.html#terminfo">terminfo</A> file was not found on the system.

  Nvim will use 256-colour capability on Linux virtual terminals.  Vim uses
  only 8 colours plus bright foreground on Linux VTs.

  Vim combines what is in its |<A HREF="term.html#builtin-terms">builtin-terms</A>| with what <A HREF="motion.html#it">it</A> reads from <A HREF="term.html#terminfo">terminfo</A>,
  and has a <A HREF="#'ttybuiltin'">'ttybuiltin'</A> setting to <A HREF="intro.html#control">control</A> how that combination works.  Nvim
  uses one or the other, <A HREF="motion.html#it">it</A> does not attempt to <A HREF="diff.html#merge">merge</A> the two.

UI/Display:
  |<A HREF="visual.html#Visual">Visual</A>| selection highlights the character at cursor. |<A HREF="visual.html#visual-use">visual-use</A>|

VimL (Vim <A HREF="usr_41.html#script">script</A>) compatibility:
  `count` does not alias to |<A HREF="eval.html#v:count">v:count</A>|
  `errmsg` does not alias to |<A HREF="eval.html#v:errmsg">v:errmsg</A>|
  `shell_error` does not alias to |<A HREF="eval.html#v:shell_error">v:shell_error</A>|
  `this_session` does not alias to |<A HREF="eval.html#v:this_session">v:this_session</A>|

==============================================================================

5. Missing legacy features				 *<A NAME="nvim-features-missing"></A><B>nvim-features-missing</B>*

Some legacy Vim features are not implemented:

- |if_lua|: Nvim <A HREF="lua.html#Lua">Lua</A> <A HREF="api.html#API">API</A> is not compatible with Vim's &quot;if_lua&quot;

- *<A NAME="if_mzscheme"></A><B>if_mzscheme</B>*

- YXXYif_py|: *<A NAME="python-bindeval"></A><B>python-bindeval</B>* *<A NAME="python-Function"></A><B>python-Function</B>* are not supported

- *<A NAME="if_tcl"></A><B>if_tcl</B>*

==============================================================================

6. Removed features					 *<A NAME="nvim-features-removed"></A><B>nvim-features-removed</B>*

These Vim features were intentionally removed from Nvim.

Aliases:
  ex        (alias for &quot;<A HREF="nvim.html#nvim">nvim</A> -e&quot;)
  exim      (alias for &quot;<A HREF="nvim.html#nvim">nvim</A> -E&quot;)
  gex       (GUI)
  gview     (GUI)
  gvim      (GUI)
  gvimdiff  (GUI)
  rgview    (GUI)
  rgvim     (GUI)
  rview
  rvim
  view      (alias for &quot;<A HREF="nvim.html#nvim">nvim</A> -R&quot;)
  vimdiff   (alias for &quot;<A HREF="nvim.html#nvim">nvim</A> -d&quot; |<A HREF="diff.html#diff-mode">diff-mode</A>|)

Commands:
  :fixdel
  :helpfind
  <A HREF="various.html#:mode">:mode</A> (no longer accepts an argument)
  :open
  :Print
  <A HREF="various.html#:shell">:shell</A>
  :smile
  :tearoff

Compile-time features:
  EBCDIC
  Emacs <A HREF="tagsrch.html#tags">tags</A> support
  X11 integration (see |<A HREF="provider.html#x11-selection">x11-selection</A>|)

Eval:

  *<A NAME="js_encode()"></A><B>js_encode()</B>*

  *<A NAME="js_decode()"></A><B>js_decode()</B>*

  *<A NAME="v:none"></A><B>v:none</B>* (used by Vim to represent JavaScript &quot;undefined&quot;); use |<A HREF="eval.html#v:null">v:null</A>| instead.

Events:

  *<A NAME="SigUSR1"></A><B>SigUSR1</B>* Use |<A HREF="autocmd.html#Signal">Signal</A>| to detect `SIGUSR1` signal instead.

Highlight groups:

  *<A NAME="hl-StatusLineTerm"></A><B>hl-StatusLineTerm</B>* *<A NAME="hl-StatusLineTermNC"></A><B>hl-StatusLineTermNC</B>* are unnecessary because Nvim
    supports <A HREF="options.html#'winhighlight'">'winhighlight'</A> window-local highlights.
    For example, to mimic Vim's StatusLineTerm: 
<B>      hi StatusLineTerm ctermfg=black ctermbg=green</B>
<B>      hi StatusLineTermNC ctermfg=green</B>
<B>      autocmd TermOpen,WinEnter * if &amp;buftype=='terminal'</B>
<B>        \|setlocal winhighlight=StatusLine:StatusLineTerm,StatusLineNC:StatusLineTermNC</B>
<B>        \|else|setlocal winhighlight=|endif</B>
 

Options:
  'antialias'
  'bioskey' (MS-DOS)
  'conskey' (MS-DOS)

  *<A NAME="'cp'"></A><B>'cp'</B>* *<A NAME="'nocompatible'"></A><B>'nocompatible'</B>* *<A NAME="'nocp'"></A><B>'nocp'</B>* *<A NAME="'compatible'"></A><B>'compatible'</B>* (Nvim is always &quot;nocompatible&quot;.)
  <A HREF="options.html#'cpoptions'">'cpoptions'</A> (gjkHw&lt;*- and all POSIX flags were removed)

  *<A NAME="'cryptmethod'"></A><B>'cryptmethod'</B>* *<A NAME="'cm'"></A><B>'cm'</B>* *<A NAME="'key'"></A><B>'key'</B>* (Vim <A HREF="editing.html#encryption">encryption</A> implementation)

  *<A NAME="'ed'"></A><B>'ed'</B>* *<A NAME="'edcompatible'"></A><B>'edcompatible'</B>* *<A NAME="'noed'"></A><B>'noed'</B>* *<A NAME="'noedcompatible'"></A><B>'noedcompatible'</B>*
  <A HREF="options.html#'encoding'">'encoding'</A> (&quot;utf-8&quot; is always used)
  'esckeys'
  <A HREF="options.html#'guioptions'">'guioptions'</A> &quot;<A HREF="motion.html#t">t</A>&quot; flag was removed

  *<A NAME="'guifontset'"></A><B>'guifontset'</B>* *<A NAME="'gfs'"></A><B>'gfs'</B>* (Use <A HREF="options.html#'guifont'">'guifont'</A> instead.)

  *<A NAME="'guipty'"></A><B>'guipty'</B>* (Nvim uses pipes and PTYs consistently on all platforms.)
  <A HREF="deprecated.html#'highlight'">'highlight'</A> (Names of builtin |<A HREF="syntax.html#highlight-groups">highlight-groups</A>| cannot be changed.)

  *<A NAME="'imactivatefunc'"></A><B>'imactivatefunc'</B>* *<A NAME="'imaf'"></A><B>'imaf'</B>*

  *<A NAME="'imactivatekey'"></A><B>'imactivatekey'</B>* *<A NAME="'imak'"></A><B>'imak'</B>*

  *<A NAME="'imstatusfunc'"></A><B>'imstatusfunc'</B>* *<A NAME="'imsf'"></A><B>'imsf'</B>*

  *<A NAME="'macatsui'"></A><B>'macatsui'</B>*
  'maxmem' Nvim delegates memory-management to the OS.
  'maxmemtot' Nvim delegates memory-management to the OS.
  <A HREF="options.html#'maxcombine'">'maxcombine'</A> (6 is always used)

  *<A NAME="'restorescreen'"></A><B>'restorescreen'</B>* *<A NAME="'rs'"></A><B>'rs'</B>* *<A NAME="'norestorescreen'"></A><B>'norestorescreen'</B>* *<A NAME="'nors'"></A><B>'nors'</B>*
  'shelltype'

  *<A NAME="'shortname'"></A><B>'shortname'</B>* *<A NAME="'sn'"></A><B>'sn'</B>* *<A NAME="'noshortname'"></A><B>'noshortname'</B>* *<A NAME="'nosn'"></A><B>'nosn'</B>*

  *<A NAME="'swapsync'"></A><B>'swapsync'</B>* *<A NAME="'sws'"></A><B>'sws'</B>*

  *<A NAME="'termencoding'"></A><B>'termencoding'</B>* *<A NAME="'tenc'"></A><B>'tenc'</B>* (Vim 7.4.852 also removed this for Windows)
  'textauto'
  'textmode'

  *<A NAME="'toolbar'"></A><B>'toolbar'</B>* *<A NAME="'tb'"></A><B>'tb'</B>*

  *<A NAME="'toolbariconsize'"></A><B>'toolbariconsize'</B>* *<A NAME="'tbis'"></A><B>'tbis'</B>*

  *<A NAME="'ttybuiltin'"></A><B>'ttybuiltin'</B>* *<A NAME="'tbi'"></A><B>'tbi'</B>* *<A NAME="'nottybuiltin'"></A><B>'nottybuiltin'</B>* *<A NAME="'notbi'"></A><B>'notbi'</B>*

  *<A NAME="'ttymouse'"></A><B>'ttymouse'</B>* *<A NAME="'ttym'"></A><B>'ttym'</B>*

  *<A NAME="'ttyscroll'"></A><B>'ttyscroll'</B>* *<A NAME="'tsl'"></A><B>'tsl'</B>*

  *<A NAME="'ttytype'"></A><B>'ttytype'</B>* *<A NAME="'tty'"></A><B>'tty'</B>*
  <A HREF="options.html#'ttyfast'">'ttyfast'</A>
  'weirdinvert'

Startup:
  --literal (file args are always literal; to expand <A HREF="editing.html#wildcards">wildcards</A> on Windows, use
    |<A HREF="editing.html#:n">:n</A>| e.g. `nvim +&quot;n *&quot;`)
  Easy mode: eview, evim, <A HREF="nvim.html#nvim">nvim</A> -y
  Restricted mode: rview, rvim, <A HREF="nvim.html#nvim">nvim</A> -Z
  <A HREF="intro.html#Vi">Vi</A> mode: <A HREF="nvim.html#nvim">nvim</A> <A HREF="starting.html#-v">-v</A>

Test <A HREF="eval.html#functions">functions</A>:
  test_alloc_fail()
  test_autochdir()
  test_disable_char_avail()
  test_null_channel()
  test_null_dict()
  test_null_job()
  test_null_list()
  test_null_partial()
  test_null_string()
  test_override()
  test_settime()

<A HREF="term.html#TUI">TUI</A>:

			  *<A NAME="t_xx"></A><B>t_xx</B>* *<A NAME="termcap-options"></A><B>termcap-options</B>* *<A NAME="t_AB"></A><B>t_AB</B>* *<A NAME="t_Sb"></A><B>t_Sb</B>* *<A NAME="t_vb"></A><B>t_vb</B>* *<A NAME="t_SI"></A><B>t_SI</B>*
  Nvim does not have special `t_XX` <A HREF="options.html#options">options</A> nor &lt;t_XX&gt; <A HREF="intro.html#keycodes">keycodes</A> to configure
  <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> capabilities. Instead Nvim treats the <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> <A HREF="motion.html#as">as</A> any other <A HREF="ui.html#UI">UI</A>,
  e.g. <A HREF="options.html#'guicursor'">'guicursor'</A> sets the <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> cursor style if possible.


			  *<A NAME="termcap"></A><B>termcap</B>*
  Nvim never uses the <A HREF="#termcap">termcap</A> database, only |<A HREF="term.html#terminfo">terminfo</A>| and |<A HREF="term.html#builtin-terms">builtin-terms</A>|.


			  *<A NAME="xterm-8bit"></A><B>xterm-8bit</B>* *<A NAME="xterm-8-bit"></A><B>xterm-8-bit</B>*
  Xterm can be run in a mode where <A HREF="motion.html#it">it</A> uses true 8-bit CSI.  Supporting this
  requires autodetection of whether the <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> is in <A HREF="mbyte.html#UTF-8">UTF-8</A> mode or non-UTF-8
  mode, <A HREF="motion.html#as">as</A> the 8-bit CSI character has to be written differently in each <A HREF="change.html#case">case</A>.
  Vim issues a &quot;request version&quot; sequence to the <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> at <A HREF="starting.html#startup">startup</A> and looks
  at how the <A HREF="nvim_terminal_emulator.html#terminal">terminal</A> is sending CSI.  Nvim does not issue such a sequence and
  always uses 7-bit <A HREF="intro.html#control">control</A> sequences.

==============================================================================
<A HREF="#top">top</A> - <A HREF="index.html">main help file</A>
</PRE>
    </div>

    <footer>
      <div class="container">
        Generated Sun May  2 05:42:03 UTC 2021 from <a href="https://github.com/neovim/neovim/commit/b227cedf82341813514da55baa48511eca4014b0"><code>b227ced</code></a>.
      </div>
    </footer>
  </body>
</html>
